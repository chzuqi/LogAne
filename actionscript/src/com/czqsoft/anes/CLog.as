package com.czqsoft.anes{	import flash.events.EventDispatcher;	import flash.events.IEventDispatcher;	import flash.external.ExtensionContext;		/**	 * Log ANE	 * 專為苦逼AIR程序員設計，讓程序內的LOG打到外面去。	 * 可以用eclipse和xcode找到這些log，從而debug easier	 * 	 * @author czq	 * 	 */		public class CLog extends EventDispatcher	{		/**		 * 是否启用 		 */				public static var logged:Boolean = true;		private static var _inited:Boolean = false;				private static var _extContext:ExtensionContext;				private static var APPSTRING:String = 'com.clog.ane';				//与java端中Map里的key一致		private static const CLOG_TO_CONSOLE:String = "clog_to_console";		public function CLog(target:IEventDispatcher=null)		{			super(target);		}				private static function init():void		{			if (!_extContext){				_extContext=ExtensionContext.createExtensionContext(APPSTRING, null);			}			/*if (!_extContext)			{				trace("ERROR - Extension context is null. Please check if extension.xml is setup correctly.");			}else{				_inited = true;			}*/			_inited = true;		}					public static function info(...strings):void		{			loged("info", strings);		}				public static function debug(...strings):void		{			loged("debug", strings);		}				public static function error(...strings):void		{			loged("error", strings);		}				private static function loged(type:String, args:Array):void		{			if (!logged){				return;			}			if (!_inited){				init();			}			var str:String = "[" + type + "]";			str += getDate();			var l:int = args.length;			for (var i:int=0; i<l; i++){				str += "	" + args[i];			}			trace(str);			if (_extContext){				_extContext.call(CLOG_TO_CONSOLE, str);			}		}				private static function getDate():String		{			var date:Date=new Date();			return "[" + date.hours + ":" + date.minutes + ":"				+ date.seconds + ":" + date.milliseconds + "]";		}	}}